<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            background-color: #212121;
            color: #fff;
        }
        nav{
             display: flex;
            height: 100vh;
            justify-content: center;
            align-items: center;
        }
       .guessSubmit{
          background-color: green;
          color: #fff;
          border-radius: 8px;
          padding: 10px;
          margin: 15px;
          border: none;
          margin-left: 95px;
          cursor:grab;
        }
        #newGame{
            background-color: green;
          color: #fff;
          border-radius: 8px;
          padding: 10px;
          margin: 10px;
          border: none;
          cursor:grab;
          text-align: center;
          justify-content: center;
        }
      
    </style>
</head>
<body>

    <nav>
        <div id="wrapper">
          <h1>Number gussing game</h1>
          <p>Try and guess a numebr berween 1 and 100</p>
          <p>You have 10 attampts to guss the right number.</p>
          <br>
          <form class="form">
          <label for="guessFiled" id="guss"> Guess a number</label>
          <input type="text" calss="guessFiled" id="guessFiled">
          <br>
          <input type="submit" value="submit guess" id="subt" class="guessSubmit">
          </form>
          <div class="resultParas">
            <p >Prevous Guess: <span class="guessses"></span></p>
            <p> Guesess remaining :<span class="lastResult">10</span></p>
            <p class="lowOrhi"></p>
          </div>
        </div>
    </nav>

    <script>
       const randomNum =parseInt(Math.random()* 100 + 1)
    //    For avoiding a 0 we + here 1
    // pareseInt give us only a intiger not a decimal
     const submit=document.querySelector('#subt')
     const userInput=document.querySelector('#guessFiled')
     const guessSlot=document.querySelector('.guessses')
     const remaining=document.querySelector('.lastResult')
     const LowOrHi=document.querySelector('.lowOrhi')
     const startOver=document.querySelector('.resultParas')

     const p =document.createElement('p')
    let PrevousGuess = [];
    let numGuess=1;    // user start from 1
    let plyGame= true;

    if(plyGame){
     submit.addEventListener('click',function(e){
    e.preventDefault()
    const guess = parseInt(userInput.value)
    console.log(guess);
    validateGuess(guess);
     });
    }

    function validateGuess(guess){
        if(isNaN(guess)){
         alert('Pleas Enter a valid number')

        }else if(guess < 1){
         alert('Pleas Enter a number more then 1')
        }else if (guess > 100){
         alert('Pleas Enter a number less then 100')
        }else{
            PrevousGuess.push(guess);
            if(numGuess === 11){
             displayGuess(guess)
             displayMsg(`Game Over : Random number was ${randomNum}`)
            endGame();
            }else{
                displayGuess(guess)
                checkGuess(guess)
            }
        }
    }
    function checkGuess(guess){
     if(guess === randomNum){
        displayMsg('You guessed is right')
        endGame();
     }else if(guess < randomNum){
         displayMsg('Number is Too low')
     }else if(guess > randomNum){
        displayMsg('Number is Too high')
     }
    }
    function displayGuess(guess){
      userInput.value = '';   // clan the user input or  update the user input value here
      guessSlot.innerHTML += `${guess} ,  `
      numGuess++;
      remaining.innerHTML=`${11 - numGuess}`
    }
    function displayMsg(message){
    LowOrHi.innerHTML = `<h2>${message}</h2>`
    }
    
  function endGame() {
  userInput.value = '';
  userInput.setAttribute('disabled', '');
  p.classList.add('button');
  p.innerHTML = `<h2 id="newGame">Start new Game</h2>`;
  startOver.appendChild(p);
  playGame = false;
  newGame();
}
        //reset all variables
   function newGame() {
  const newGameButton = document.querySelector('#newGame');
  newGameButton.addEventListener('click', function (e) {
     //reset all variables
    randomNumber = parseInt(Math.random() * 100 + 1);
    prevGuess = [];
    numGuess = 1;
    guessSlot.innerHTML = '';
    remaining.innerHTML = `${11 - numGuess} `;
    userInput.removeAttribute('disabled');
    startOver.removeChild(p);

    plyGame = true;

     });
    }
    </script>
</body>
</html>